<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>e-Rapor Quantum — Login</title>

  <!-- Tailwind & SweetAlert -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    :root { --blue:#1d4ed8; --blue-dark:#1e40af; --green:#16a34a; }

    body {
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      min-height:100vh;
      margin:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(145deg,#0b1220 0%, #0f172a 40%, #1d4ed8 100%);
      -webkit-font-smoothing:antialiased;
      color:#0f172a;
    }

    .card {
      background:#fff;
      width:420px;
      max-width:95%;
      border-radius:22px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.35);
      padding:40px 34px;
      text-align:center;
    }

    .brand-logo {
      width:140px;
      max-width:46%;
      border-radius:50%;
      margin:0 auto 18px auto;
      display:block;
      box-shadow:0 4px 14px rgba(0,0,0,0.15);
    }

    h1 {
      color:var(--blue);
      font-size:1.4rem;
      font-weight:700;
      margin-bottom:1rem;
    }

    .input {
      width:100%;
      padding:14px;
      border-radius:12px;
      border:1px solid #e6eef8;
      font-size:15px;
      text-align:center;
      margin-bottom:12px;
      transition:box-shadow .25s, border-color .2s, transform .12s;
    }

    .input:focus {
      outline:none;
      border-color:var(--blue);
      box-shadow:0 6px 18px rgba(29,78,216,0.12);
      transform:translateY(-1px);
    }

    .btn {
      width:100%;
      padding:13px;
      border-radius:12px;
      font-weight:700;
      font-size:15px;
      border:0;
      cursor:pointer;
      transition:transform .12s, box-shadow .12s;
      box-shadow:0 6px 18px rgba(2,6,23,0.09);
    }

    .btn:active { transform:translateY(1px); }
    .btn-blue { background:var(--blue); color:white; }
    .btn-blue:hover { background:var(--blue-dark); }
    .btn-green { background:var(--green); color:white; }
    .small-link { color:var(--blue); cursor:pointer; font-weight:600; }

    footer {
      margin-top:18px;
      font-size:12px;
      color:#64748b;
      line-height:1.4;
    }

    .fade { opacity:0; transform:translateY(18px); transition:all .45s ease; }
    .fade.show { opacity:1; transform:translateY(0); }

    .space-y-3 > * + * { margin-top:12px; }

    .text-blue-700 {
      transition: all 0.3s ease;
    }
    .text-blue-700:hover {
      color: #1d4ed8;
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <div class="card" role="main" aria-label="Form Login e-Rapor Quantum">
    <img src="assets/logo-erapor.png" alt="Logo e-Rapor Quantum" class="brand-logo" id="brandLogo">
    <h1 id="title">Masuk ke e-Rapor Quantum</h1>

    <!-- TOKEN SECTION -->
    <div id="tokenSection" class="mt-4 space-y-3 fade show">
      <input id="token" class="input" placeholder="Masukkan Token Sekolah (contoh: ABCD-1234)" aria-label="Token Sekolah">
      <button id="btnToken" onclick="validateToken()" class="btn btn-blue">Lanjut</button>
    </div>

    <!-- REGISTER SECTION -->
    <div id="registerSection" class="mt-4 space-y-3 fade" style="display:none">
      <input id="nama" class="input" placeholder="Nama Lengkap" aria-label="Nama Lengkap">
      <input id="usernameReg" class="input" placeholder="Username" aria-label="Username registrasi">
      <input id="passwordReg" class="input" type="password" placeholder="Password" aria-label="Password registrasi">
      <button id="btnRegister" onclick="registerUser()" class="btn btn-green">Daftar & Masuk</button>
      <div>
        <span class="small-link" onclick="showLogin()">Sudah punya akun? Masuk</span>
      </div>
    </div>

    <!-- LOGIN SECTION -->
    <div id="loginSection" class="mt-4 space-y-3 fade" style="display:none">
      <input id="usernameLogin" class="input" placeholder="Username" aria-label="Username login">
      <input id="passwordLogin" class="input" type="password" placeholder="Password" aria-label="Password login">
      <button id="btnLogin" onclick="loginUser()" class="btn btn-blue">Masuk</button>

      <div class="text-sm text-blue-700 cursor-pointer hover:underline mt-2 text-center"
        onclick="lupaPassword()">Lupa password?</div>

      <div>
        <span class="small-link" onclick="showRegister()">Belum punya akun? Daftar</span>
      </div>
    </div>

    <footer>
      <div>© 2025 <strong>e-Rapor Quantum</strong></div>
      <div>Dikembangkan oleh: <strong>Dedi Agus Mustofa, S.Pd.SD</strong></div>
    </footer>
  </div>

  <!-- File auth.js -->
  <script src="auth.js"></script>
</body>
</html>
